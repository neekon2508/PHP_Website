<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
</head>
<body style="text-align: center;">
    <h1>Loading a web page into a DIV</h1>
    <h1>Loading a web page into a DIV2</h1>
    <div id="info">This sentence will be replaced</div>
    <script>
        let out = ''
        let nocache = "&nocache=" + Math.random()*1000000;
        let url = "rss.news.yahoo.com/rss/topstories"
        let XHR = new XMLHttpRequest()
        XHR.open("GET", "http://localhost:8080/PHP_Website/AsynchronousProgram/xmlget.php?url="+url
        +nocache, true);
        //XHR.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        XHR.send();

        XHR.onreadystatechange = function()
        {
            if(this.readyState ==4 && this.status == 200)
            {
                let descriptions = this.responseXML.getElementsByTagName('description')
                for(let j =0; j< descriptions.length; ++j)
                  {
                    out += descriptions[j].childNodes[0].nodeValue + '<br>'
                  }
                  document.getElementById("info").innerHTML = out

            }
           
        }
    </script>
</body>
</html>
